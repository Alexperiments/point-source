{% extends "user_base.html" %}

{% block content %}
<section class="hero">
    <h1>Profile settings</h1>
    <p>Update your personal details and password.</p>
</section>

<div class="card grid">
    {% if success %}
        <div class="alert success">Your profile has been updated.</div>
    {% endif %}

    {% if errors %}
        <div class="alert error">
            {% for err in errors %}
                <div>{{ err }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <form method="post" action="{{ request.url_for('web_profile_submit') }}" class="grid">
        <div>
            <label for="name">Name</label>
            <input id="name" type="text" name="name" value="{{ current_user.name }}" />
        </div>
        <div>
            <label for="email">Email</label>
            <input id="email" type="email" name="email" value="{{ current_user.email }}" />
        </div>
        <div>
            <label for="current_password">Current password</label>
            <input id="current_password" type="password" name="current_password" />
        </div>
        <div>
            <label for="new_password">New password</label>
            <input id="new_password" type="password" name="new_password" />
        </div>
        <div>
            <label for="confirm_password">Confirm new password</label>
            <input id="confirm_password" type="password" name="confirm_password" />
        </div>
        <button class="btn" type="submit">Save changes</button>
    </form>
</div>
{% endblock %}
